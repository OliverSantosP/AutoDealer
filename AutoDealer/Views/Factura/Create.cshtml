@model AutoDealer.Models.Facturas

@{
    ViewBag.Title = "Create";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <div class="widget wred">
        <div class="widget-head">
            <div class="pull-left">Crear Factura</div>
            <div class="widget-icons pull-right">
                <a href="#" class="wminimize"><i class="icon-chevron-up"></i></a>
                <a href="#" class="wclose"><i class="icon-remove"></i></a>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="widget-content">
            <div class="padd">
                <div class="row">
                    <div class="col-lg-2">
                        <div class="editor-label">
                            @Html.Label("Cliente:")
                        </div>
                        <div class="editor-field">
                            <select>
                                @foreach (var item in @AutoDealer.Models.Personas.GetCompradores())
                                {
                                    <option value="@item.Id">@item.Nombre @item.Apellido</option>
                                }
                            </select>
                        </div>
                        <br />
                        @Html.Label("Direccion:")
                    </div>
                    <div class="col-lg-6">

                        <div class="editor-label">
                            @Html.Label("Vendedor:")
                        </div>
                        <div class="editor-field">
                            <select>
                                @foreach (var item in @AutoDealer.Models.Personas.GetVendedores())
                                {
                                    <option value="@item.Id">@item.Nombre @item.Apellido</option>         
                                }
                            </select>

                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="right">
                            <div class="editor-label">
                                @Html.Label("Empresa:")
                            </div>
                            <div class="editor-field">
                                @Html.DropDownList("Empresa", String.Empty)
                                @Html.ValidationMessageFor(model => model.Empresa)
                            </div>
                            <br />
                            <div class="editor-label">
                                @Html.LabelFor(model => model.NCF)
                            </div>
                            <div class="editor-field">
                                @Html.EditorFor(model => model.NCF)
                                @Html.ValidationMessageFor(model => model.NCF)
                            </div>
                        </div>
                    </div>
                </div>
                <br/>
                <hr />
                @if (!String.IsNullOrEmpty(Request.QueryString["AutomovilId"]))
                {
                    int AutomovilId = Int32.Parse(Request.QueryString["AutomovilId"]);
                    var Automovil = AutoDealer.Models.Automoviles.GetAutomovil(AutomovilId);
                    
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <b>Id</b>
                                </th>
                                <th>
                                    <b>Descripcion</b>
                                </th>
                                <th>
                                    <b>Precio</b>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>@Automovil.Id</td>
                                <td>@Automovil.TiposAutomoviles.Fabricantes.Nombre @Automovil.TiposAutomoviles.Modelos.Nombre @Automovil.Year.Year @Automovil.Colores.Nombre</td>
                                
                                <td>RD @String.Format("{0:C}", @Automovil.PrecioVenta)</td>
                            </tr>
                        </tbody>
                    </table>
                }
                <br />
                <hr />
                <div class="row">
                    <div class="col-lg-2"></div>
                    <div class="col-lg-4"></div>
                    <div class="col-lg-4">
                        <div class="right">
                            @Html.Label("Total:")
                            <br />
                            <br />
                            <div class="editor-label">
                                @Html.LabelFor(model => model.CostoTraspaso)
                            </div>
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CostoTraspaso)
                                @Html.ValidationMessageFor(model => model.CostoTraspaso)
                            </div>
                            <br/>
                            @Html.Label("Descuento:")
                            <br/>
                            @Html.TextBox("Descuento")
                            <br />
                            <br />
                            @Html.Label("Total General:")
                        </div>
                    </div>
                </div>
                <hr />
                <p>
                    <input type="submit" value="Crear" />
                </p>

            </div>
        </div>
    </div>
}
<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
